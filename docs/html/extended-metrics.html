
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>OHM Fork Extended Metrics &#8212; jupyter-ohm-forks  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Snapshot Usage" href="snapshot-usage.html" />
    <link rel="prev" title="Ohm Fork Metrics" href="metrics.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="OHM-Fork-Extended-Metrics">
<h1>OHM Fork Extended Metrics<a class="headerlink" href="#OHM-Fork-Extended-Metrics" title="Permalink to this headline">¶</a></h1>
<p>The definition used in this research for extended metrics is to cover anything that is calculated from the basic metrics already covered. Each extended metric will be covered and will include definition, usage, and a code example.</p>
<p>The code below is used throughout the following examples. It is done once here to reduce repetitiveness</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">web3</span> <span class="kn">import</span> <span class="n">Web3</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="n">w3</span> <span class="o">=</span> <span class="n">Web3</span><span class="p">(</span><span class="n">Web3</span><span class="o">.</span><span class="n">HTTPProvider</span><span class="p">(</span><span class="s1">&#39;https://mainnet.infura.io/v3/40f886f8daa347ec901aa7e83d3300de&#39;</span><span class="p">))</span> <span class="c1"># Infura</span>

<span class="n">token_abi</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;abis/ohm.abi&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">stoken_abi</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;abis/sohm.abi&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">staking_abi</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;abis/sohmstaking.abi&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">supply_abi</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;abis/ohmcirculating.abi&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">token_contract</span> <span class="o">=</span> <span class="n">w3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">contract</span><span class="p">(</span><span class="n">Web3</span><span class="o">.</span><span class="n">toChecksumAddress</span><span class="p">(</span><span class="s1">&#39;0x383518188c0c6d7730d91b2c03a03c837814a899&#39;</span><span class="p">),</span> <span class="n">abi</span><span class="o">=</span><span class="n">token_abi</span><span class="p">)</span>
<span class="n">stoken_contract</span> <span class="o">=</span> <span class="n">w3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">contract</span><span class="p">(</span><span class="n">Web3</span><span class="o">.</span><span class="n">toChecksumAddress</span><span class="p">(</span><span class="s1">&#39;0x04F2694C8fcee23e8Fd0dfEA1d4f5Bb8c352111F&#39;</span><span class="p">),</span> <span class="n">abi</span><span class="o">=</span><span class="n">stoken_abi</span><span class="p">)</span>
<span class="n">staking_contract</span> <span class="o">=</span> <span class="n">w3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">contract</span><span class="p">(</span><span class="n">Web3</span><span class="o">.</span><span class="n">toChecksumAddress</span><span class="p">(</span><span class="s1">&#39;0xFd31c7d00Ca47653c6Ce64Af53c1571f9C36566a&#39;</span><span class="p">),</span> <span class="n">abi</span><span class="o">=</span><span class="n">staking_abi</span><span class="p">)</span>
<span class="n">supply_contract</span> <span class="o">=</span> <span class="n">w3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">contract</span><span class="p">(</span><span class="n">Web3</span><span class="o">.</span><span class="n">toChecksumAddress</span><span class="p">(</span><span class="s1">&#39;0x0EFFf9199Aa1Ac3C3E34E957567C1BE8bF295034&#39;</span><span class="p">),</span> <span class="n">abi</span><span class="o">=</span><span class="n">supply_abi</span><span class="p">)</span>

<span class="n">market_price</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://api.coingecko.com/api/v3/simple/price?ids=olympus&amp;vs_currencies=usd&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;olympus&#39;</span><span class="p">][</span><span class="s1">&#39;usd&#39;</span><span class="p">]</span>
<span class="n">market_price</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
439.18
</pre></div></div>
</div>
<section id="Staking-Reward">
<h2>Staking Reward<a class="headerlink" href="#Staking-Reward" title="Permalink to this headline">¶</a></h2>
<p>The staking reward is to total OHM to be minted for this epoch. Each epoch the staking reward calculated below is minted and this would be considered OHM inflation. Many other extended metrics are based off of staking reward.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">epoch</span> <span class="o">=</span> <span class="n">staking_contract</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">epoch</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">()</span>
<span class="n">staking_reward</span> <span class="o">=</span> <span class="n">epoch</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">staking_reward</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
31053.0
</pre></div></div>
</div>
</section>
<section id="Staking-Rebase">
<h2>Staking Rebase<a class="headerlink" href="#Staking-Rebase" title="Permalink to this headline">¶</a></h2>
<p>The staking rebase is the amount of newly minted OHM distributed per OHM staked.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">circ</span> <span class="o">=</span> <span class="n">stoken_contract</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">circulatingSupply</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">()</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">epoch</span> <span class="o">=</span> <span class="n">staking_contract</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">epoch</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">()</span>

<span class="n">staking_reward</span> <span class="o">=</span> <span class="n">epoch</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">staking_rebase</span> <span class="o">=</span> <span class="n">staking_reward</span> <span class="o">/</span> <span class="n">circ</span>
<span class="n">staking_rebase</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.005756330365148433
</pre></div></div>
</div>
</section>
<section id="Staking-APY">
<h2>Staking APY<a class="headerlink" href="#Staking-APY" title="Permalink to this headline">¶</a></h2>
<p>This metric is somewhat obvious hopefully. To get a value that matches with the Olympus DAO dashboard the staking_apy below needs to be multiplied by 100.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">circ</span> <span class="o">=</span> <span class="n">stoken_contract</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">circulatingSupply</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">()</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">epoch</span> <span class="o">=</span> <span class="n">staking_contract</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">epoch</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">()</span>

<span class="n">staking_reward</span> <span class="o">=</span> <span class="n">epoch</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">staking_rebase</span> <span class="o">=</span> <span class="n">staking_reward</span> <span class="o">/</span> <span class="n">circ</span>
<span class="n">staking_apy</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">staking_rebase</span><span class="p">,</span> <span class="mi">365</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">staking_apy</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
535.5230215392438
</pre></div></div>
</div>
</section>
<section id="5-Day-ROI">
<h2>5 Day ROI<a class="headerlink" href="#5-Day-ROI" title="Permalink to this headline">¶</a></h2>
<p>The 5 day rate is a good metric to use when trying to determine whether to buy bonds which mature after 5 days or to simply buy and stake. To get the % shown in the dashboard simply multiple by 100 similar to staking_apy above.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">circ</span> <span class="o">=</span> <span class="n">stoken_contract</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">circulatingSupply</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">()</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">epoch</span> <span class="o">=</span> <span class="n">staking_contract</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">epoch</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">()</span>

<span class="n">staking_reward</span> <span class="o">=</span> <span class="n">epoch</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">staking_rebase</span> <span class="o">=</span> <span class="n">staking_reward</span> <span class="o">/</span> <span class="n">circ</span>
<span class="n">five_day_rate</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">staking_rebase</span><span class="p">,</span> <span class="mi">5</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">five_day_rate</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.08991246973810929
</pre></div></div>
</div>
</section>
<section id="Next-Rebase">
<h2>Next Rebase<a class="headerlink" href="#Next-Rebase" title="Permalink to this headline">¶</a></h2>
<p>The block number for next rebase.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">epoch</span> <span class="o">=</span> <span class="n">staking_contract</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">epoch</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">()</span>
<span class="n">next_rebase</span> <span class="o">=</span> <span class="n">epoch</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">next_rebase</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
13800600
</pre></div></div>
</div>
</section>
<section id="Staking-TVL">
<h2>Staking TVL<a class="headerlink" href="#Staking-TVL" title="Permalink to this headline">¶</a></h2>
<p>Staking TVL is useful to compare to overall market cap.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">circ</span> <span class="o">=</span> <span class="n">stoken_contract</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">circulatingSupply</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">()</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">staking_tvl</span> <span class="o">=</span> <span class="n">circ</span> <span class="o">*</span> <span class="n">market_price</span>
<span class="n">staking_tvl</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2369192814.6740994
</pre></div></div>
</div>
</section>
<section id="Market-Cap">
<h2>Market Cap<a class="headerlink" href="#Market-Cap" title="Permalink to this headline">¶</a></h2>
<p>The market capitalization is simply the current market price multiplied by the circulating supply.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">circ</span> <span class="o">=</span> <span class="n">supply_contract</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">OHMCirculatingSupply</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">()</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">market_cap</span> <span class="o">=</span> <span class="n">circ</span> <span class="o">*</span> <span class="n">market_price</span>
<span class="n">market_cap</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2677420781.689735
</pre></div></div>
</div>
</section>
<section id="Percent-Staked">
<h2>Percent Staked<a class="headerlink" href="#Percent-Staked" title="Permalink to this headline">¶</a></h2>
<p>The percentage of OHM staked can be obtained by taking this extended metric and multiplying by 100.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">staked_circ_supply</span> <span class="o">=</span> <span class="n">stoken_contract</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">circulatingSupply</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">()</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">circ_supply</span> <span class="o">=</span> <span class="n">supply_contract</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">OHMCirculatingSupply</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">()</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>

<span class="n">percent_staked</span> <span class="o">=</span> <span class="n">staked_circ_supply</span> <span class="o">/</span> <span class="n">circ_supply</span>
<span class="n">percent_staked</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.8848787724650768
</pre></div></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">jupyter-ohm-forks</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="challenges.html">Challenges</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Ohm Fork Metrics</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">OHM Fork Extended Metrics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Staking-Reward">Staking Reward</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Staking-Rebase">Staking Rebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Staking-APY">Staking APY</a></li>
<li class="toctree-l2"><a class="reference internal" href="#5-Day-ROI">5 Day ROI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Next-Rebase">Next Rebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Staking-TVL">Staking TVL</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Market-Cap">Market Cap</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Percent-Staked">Percent Staked</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="snapshot-usage.html">Snapshot Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="historical-usage.html">Historical Usage</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="metrics.html" title="previous chapter">Ohm Fork Metrics</a></li>
      <li>Next: <a href="snapshot-usage.html" title="next chapter">Snapshot Usage</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, darksoulcrypto.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/extended-metrics.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>